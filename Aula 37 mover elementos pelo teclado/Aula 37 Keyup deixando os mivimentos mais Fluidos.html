<!DOCTYPE html>
<html lang="pt-br">
<head>
	<title>Aula 35 setTimeout e setInterval </title>
	<meta charset="utf-8">
	<style type="text/css">
			#dv1{
				width: 100px;
				height: 100px;
				border:1px solid #000;
				background-color: #F00;
				position: absolute;
				left: 0px;
				top: 0px;
			}
	</style>


	<script type="text/javascript">	
		
		var dx;
		var dy;
		var px;
		var py;
		var vel;
		var obj;
		var tmp;

		function iniciar() {
			dx=0;
			dy=0;
			px=0;
			py=0;
			vel=1;
			obj=document.getElementById("dv1");
			document.addEventListener("keydown",tecladow);//Keydown e acionada quando a tecla Ã© apertada 
			document.addEventListener("keyup",teclaup);//Keyup quando a tecla e liberada
			tmp=setInterval(enterFrame,1);

			
		}

		function tecladow(){
			var tecla=event.keyCode; //Pegando a tecla
			if(tecla==37){
				dx=-1;
			}else if(tecla==38){
				dy=-1;
			}else if(tecla==39){
				dx=1;
			}else if(tecla==40){
				dy=1;
			}
		}

		function teclaup(){
			var tecla=event.keyCode; //Pegando a tecla
			if(tecla==37){
				dx=0;
			}else if(tecla==38){
				dy=0;
			}else if(tecla==39){
				dx=0;
			}else if(tecla==40){
				dy=0;
			}
		}

		function enterFrame(){
			px+=dx*vel;
			py+=dy*vel;
			obj.style.left=px+"px";
			obj.style.top=py+"px";
			
		}

		window.addEventListener("load",iniciar);
	</script>
		
</head>
<body>
	<div id="dv1">	
	</div>
	
</body>
</html>