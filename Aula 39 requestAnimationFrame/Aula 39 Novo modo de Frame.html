<!DOCTYPE html>
<html lang="pt-br">
<head>
	<title>Aula 39 requestAnimationFrame </title>
	<meta charset="utf-8">
	<style type="text/css">
		#jogador{
			height: 50px;
			width: 50px;
			position: absolute;
			border:1px solid #000;
			background-color: #00F;
			top: 0px;
			left: 0px;

		}	
	</style>
	<script type="text/javascript">	
		//DeclaraÃ§ao de Variaveis
		var jog;
		var vel;
		var dx;
		var dy;
		var px;
		var py;
		var anima;

		function game(){
			px+=(dx*vel);
			//py+=(dx*vel);
			jog.style.left=px+"px";
			//jog.style.top=py+"px";

			if(px>800){
				dx=-1;
			}else if(px<= 0){
				dx=1;
			}
			anima=requestAnimationFrame(game);

		}



		function inicia(){
			vel=5;
			dx=1;
			dy=0;
			px=0;
			py=0;
			jog=document.getElementById("jogador");
			jog.addEventListener("click",function(){
				cancelAnimationFrame(anima);
			});
			game();
		}

		window.addEventListener("load",inicia);

	</script>
		
</head>
<body>
	<div id="jogador">
		
	</div>
		
</body>
</html>